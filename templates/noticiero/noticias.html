{% extends 'base.html' %}

{% block contenido %}

{% for resultado in resultados %}

<div class="card shadow-sm border-0 mt-4">
  <div class="card-header bg-dark text-white">
    <h5 class="mb-0">Modificar noticia</h5>
  </div>
  <div class="card-body">
    <form method="POST" enctype="multipart/form-data">
      <input type="hidden" name="id_noticia" id="id_noticia" value="{{ resultado._id }}">

      <div class="mb-3">
        <label for="titulo" class="form-label">Título</label>
        <input type="text" class="form-control" name="titulo" id="titulo" value="{{ resultado.titulo }}" minlength="3"
          maxlength="100" required pattern="^[^;$&|{}

\[\]

<>\"'\\`]{3,100}$">
  </div>

  <div class="mb-3">
    <label for="descripcion" class="form-label">Descripción</label>
    <textarea class="form-control" name="descripcion" id="descripcion"
              rows="4" minlength="5" maxlength="10000" required
              pattern="^[^;$&|{}

\[\]

<>\"' \\`]{5,10000}$">{{ resultado.descripcion }}</textarea>
      </div>

      <div class="d-flex justify-content-between mt-4">
        <button name="accion" id="accion" value="eliminar_noti" type="submit"
          class="btn btn-outline-danger px-4">Eliminar</button>
        <button name="accion" id="accion" value="modificar_noti" type="submit" class="btn btn-dark px-4">Guardar
          Cambios</button>
      </div>

      {% if resultado.imagen %}
      <div class="mb-3">
        <label for="imagenNoticia" class="form-label">Nueva imagen (opcional)</label>
        <input type="file" class="form-control" id="imagenNoticia" name="imagen">
      </div>

      <div class="mb-4 text-center">
        <label class="form-label fw-semibold">Imagen actual</label><br>
        <img src="{{ resultado.imagen }}" alt="Imagen de la noticia" class="img-fluid rounded shadow-sm"
          style="max-height: 300px;">
      </div>
      {% endif %}
    </form>

  </div>
</div>



{% endfor %}

{% endblock %}